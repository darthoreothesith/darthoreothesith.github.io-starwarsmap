<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geonosis Regional Explorer</title>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Rajdhani', sans-serif;
            background-color: #0a0a0f;
            color: #ff4422;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 0;
            background: linear-gradient(180deg, #1a0808 0%, #2d1008 100%);
        }
        
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0a0f;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            transition: opacity 1s ease-out;
        }
        
        .loading-text {
            font-family: 'Share Tech Mono', monospace;
            font-size: 18px;
            color: #ff4422;
            margin-top: 20px;
            letter-spacing: 2px;
        }
        
        .loading-bar {
            width: 200px;
            height: 4px;
            background: #1c1c2d;
            margin-top: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .loading-bar::before {
            content: "";
            position: absolute;
            width: 40px;
            height: 100%;
            background: linear-gradient(90deg, rgba(255, 68, 34, 0) 0%, #ff4422 50%, rgba(255, 68, 34, 0) 100%);
            animation: loading 1.5s infinite linear;
        }
        
        @keyframes loading {
            0% { transform: translateX(-40px); }
            100% { transform: translateX(200px); }
        }
        
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(29, 16, 8, 0.95);
            border-bottom: 2px solid #ff4422;
            padding: 15px 30px;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 20px rgba(255, 68, 34, 0.5);
        }
        
        .header h1 {
            font-size: 1.8em;
            text-shadow: 0 0 10px #ff4422;
            margin: 0;
            color: #ff4422;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
        }
        
        .control-btn {
            background: rgba(60, 20, 10, 0.8);
            border: 2px solid #ff4422;
            color: #ff4422;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .control-btn:hover {
            background: rgba(255, 68, 34, 0.2);
            color: #fff;
            box-shadow: 0 0 15px rgba(255, 68, 34, 0.6);
            transform: translateY(-2px);
        }
        
        .main-content {
            position: relative;
            z-index: 10;
            padding: 100px 30px 30px 30px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .intro-panel {
            background: rgba(29, 16, 8, 0.95);
            border: 2px solid #ff4422;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 0 30px rgba(255, 68, 34, 0.5);
        }
        
        .intro-panel h2 {
            color: #ff4422;
            font-size: 2em;
            margin-bottom: 15px;
            text-shadow: 0 0 10px #ff4422;
        }
        
        .intro-panel p {
            color: #ff8866;
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .regions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .region-card {
            background: rgba(29, 16, 8, 0.95);
            border: 2px solid #ff4422;
            border-radius: 10px;
            padding: 25px;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(255, 68, 34, 0.3);
        }
        
        .region-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 68, 34, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .region-card:hover::before {
            left: 100%;
        }
        
        .region-card:hover {
            transform: translateY(-10px);
            border-color: #ff6644;
            box-shadow: 0 10px 40px rgba(255, 68, 34, 0.6);
        }
        
        .region-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .region-icon {
            font-size: 3em;
            filter: drop-shadow(0 0 10px currentColor);
        }
        
        .region-title h3 {
            color: #ff4422;
            font-size: 1.6em;
            margin-bottom: 5px;
            text-shadow: 0 0 8px #ff4422;
        }
        
        .region-type {
            color: #ffaa44;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .region-description {
            color: #ff8866;
            line-height: 1.5;
            margin-bottom: 15px;
            font-size: 1em;
        }
        
        .location-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }
        
        .location-tag {
            background: rgba(255, 68, 34, 0.2);
            border: 1px solid #ff4422;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            color: #ff4422;
            transition: all 0.3s;
        }
        
        .location-tag:hover {
            background: rgba(255, 68, 34, 0.4);
            transform: scale(1.05);
        }
        
        .danger-level {
            margin-top: 10px;
            padding: 10px;
            background: rgba(255, 68, 34, 0.1);
            border-left: 3px solid #ff4422;
            border-radius: 5px;
        }
        
        .danger-level.medium {
            background: rgba(255, 170, 0, 0.1);
            border-left-color: #ffaa00;
        }
        
        .danger-level.high {
            background: rgba(255, 0, 0, 0.1);
            border-left-color: #ff0000;
        }
        
        .danger-level.extreme {
            background: rgba(139, 0, 0, 0.2);
            border-left-color: #8b0000;
        }
        
        .danger-level strong {
            color: #ff4422;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 200;
            overflow-y: auto;
            padding: 80px 20px 20px 20px;
        }
        
        .modal.show {
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }
        
        .modal-content {
            background: rgba(29, 16, 8, 0.98);
            border: 2px solid #ff4422;
            border-radius: 15px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 0 50px rgba(255, 68, 34, 0.7);
            position: relative;
            animation: modalAppear 0.3s ease;
        }
        
        @keyframes modalAppear {
            0% { opacity: 0; transform: scale(0.9) translateY(-50px); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(139, 0, 0, 0.3);
            border: 2px solid #8b0000;
            color: #ff0000;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .modal-close:hover {
            background: rgba(139, 0, 0, 0.5);
            transform: rotate(90deg) scale(1.1);
        }
        
        .modal-header {
            margin-bottom: 25px;
        }
        
        .modal-header h2 {
            color: #ff4422;
            font-size: 2.5em;
            text-shadow: 0 0 15px #ff4422;
            margin-bottom: 10px;
        }
        
        .modal-section {
            margin-bottom: 25px;
        }
        
        .modal-section h3 {
            color: #ffaa44;
            font-size: 1.4em;
            margin-bottom: 10px;
            text-transform: uppercase;
        }
        
        .modal-section p, .modal-section li {
            color: #ff8866;
            line-height: 1.6;
            font-size: 1.1em;
        }
        
        .modal-section ul {
            list-style: none;
            padding: 0;
        }
        
        .modal-section li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }
        
        .modal-section li::before {
            content: "‚ñ∏";
            position: absolute;
            left: 0;
            color: #ff4422;
        }
        
        .scanline {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
            opacity: 0.1;
            z-index: 150;
            pointer-events: none;
        }
        
        .scanline::before {
            content: "";
            position: absolute;
            width: 100%;
            height: 2px;
            background: rgba(255, 68, 34, 0.5);
            animation: scanline 4s linear infinite;
        }
        
        @keyframes scanline {
            0% { top: 0%; }
            100% { top: 100%; }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.2em;
            }
            
            .regions-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="loading" id="loading">
        <div class="loading-text">Loading Geonosis Navigation...</div>
        <div class="loading-bar"></div>
    </div>

    <div id="canvas-container"></div>
    <div class="scanline"></div>
    
    <div class="header">
        <h1>Geonosis Regional Explorer</h1>
        <button class="control-btn" onclick="goBack()">‚Üê BACK</button>
    </div>
    
    <div class="main-content">
        <div class="intro-panel">
            <h2>Welcome Traveler</h2>
            <p>Geonosis - a barren, rocky desert world in the Outer Rim. Home to the insectoid Geonosians and massive droid foundries. Site of the first battle of the Clone Wars.</p>
            <p>Select a region below to explore the harsh landscape and industrial complexes of this hostile planet.</p>
        </div>
        
        <div class="regions-grid" id="regionsGrid"></div>
    </div>
    
    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">√ó</button>
            <div id="modalBody"></div>
        </div>
    </div>

    <script>
        const regions = [
            {
                name: "Petranaki Arena",
                icon: "‚öîÔ∏è",
                type: "Execution Arena",
                danger: "extreme",
                description: "Massive gladiatorial arena where the Battle of Geonosis began. Ancient site of public executions and brutal combat spectacles.",
                locations: ["Arena Floor", "Execution Posts", "Beast Chambers", "Royal Box", "Underground Tunnels"],
                dangers: ["Battle Droids", "Wild Beasts", "Arena Traps", "Massive Combat", "No Escape Routes"],
                details: "The Petranaki Arena witnessed the start of the Clone Wars when Jedi attempted to rescue Obi-Wan, Anakin, and Padm√©. Thousands of Geonosians watch from the stands as prisoners face execution by savage creatures. The arena floor is covered in sand mixed with the blood of countless victims. Underground passages house hungry beasts waiting to be released."
            },
            {
                name: "Droid Foundries",
                icon: "ü§ñ",
                type: "Manufacturing Complex",
                danger: "extreme",
                description: "Enormous automated factories producing millions of battle droids for the Separatist army. A maze of assembly lines and molten metal.",
                locations: ["Assembly Lines", "Droid Control Centers", "Stamping Rooms", "Packaging Facilities", "Quality Control"],
                dangers: ["Molten Metal", "Moving Machinery", "Battle Droids", "Conveyor Belts", "Toxic Fumes"],
                details: "The foundries operate 24/7, churning out B1 battle droids, super battle droids, and droidekas. Massive stamping machines pound out metal parts while assembly lines snap components together. A single misstep means death by crushing or incineration. The Separatists guard these facilities heavily, as they are critical to their war effort."
            },
            {
                name: "Geonosian Hives",
                icon: "üèîÔ∏è",
                type: "Underground Cities",
                danger: "high",
                description: "Vast networks of tunnels and chambers carved into rock spires, housing billions of insectoid Geonosians in their caste-based society.",
                locations: ["Queen's Chamber", "Worker Tunnels", "Drone Barracks", "Hatcheries", "Council Rooms"],
                dangers: ["Aggressive Geonosians", "Tunnel Collapses", "Getting Lost", "Hostile Territory", "Communication Barriers"],
                details: "Geonosian hives extend deep underground, a labyrinth of carved passages and chambers. The queen rules from the deepest level, surrounded by her guards. Workers build and maintain the structures while drones serve as soldiers. Outsiders are rarely welcome, and the Geonosians become aggressive when their territory is invaded."
            },
            {
                name: "Stalgasin Hive",
                icon: "üè≠",
                type: "Industrial Hive",
                danger: "high",
                description: "Major industrial center where Geonosians design weapons and droid blueprints. Home to the planet's most brilliant engineers.",
                locations: ["Design Studios", "Weapons Testing", "Blueprint Archives", "Engineering Labs", "Security Checkpoints"],
                dangers: ["Weapon Tests", "Security Forces", "Classified Areas", "Experimental Tech", "Espionage Risks"],
                details: "Stalgasin produces the designs that fuel the Separatist war machine. Geonosian engineers craft intricate plans for new droid models and devastating weapons. Count Dooku frequently visits to review progress. Security is tight, with armed guards and automated defenses protecting valuable intellectual property."
            },
            {
                name: "Rock Spires",
                icon: "‚õ∞Ô∏è",
                type: "Natural Formations",
                danger: "high",
                description: "Towering rock columns rising hundreds of meters from the desert floor. Many have been carved out to serve as Geonosian dwellings.",
                locations: ["Spire Peaks", "Cave Entrances", "Landing Platforms", "Observation Posts", "Ancient Carvings"],
                dangers: ["Steep Cliffs", "High Winds", "Rock Slides", "Geonosian Patrols", "Limited Access"],
                details: "The spires dominate Geonosis's landscape, their reddish-brown surfaces marked by countless carved windows and doorways. Geonosians fly between spires using their wings, while non-flying species must rely on dangerous climbs or rare landing platforms. Ancient petroglyphs cover some spire walls, depicting Geonosian history."
            },
            {
                name: "Northern Wastes",
                icon: "üèúÔ∏è",
                type: "Barren Desert",
                danger: "high",
                description: "Inhospitable desert region stretching for thousands of kilometers. Extreme temperatures and minimal resources make survival nearly impossible.",
                locations: ["Sand Dunes", "Rock Outcroppings", "Abandoned Camps", "Crashed Ships", "Mining Claims"],
                dangers: ["Extreme Heat", "Sandstorms", "No Water", "Predators", "Isolation"],
                details: "Few venture into the Northern Wastes. By day, temperatures soar to lethal levels. By night, they plummet. Sandstorms appear without warning, stripping flesh from bone. Crashed ships and abandoned mining operations serve as grim warnings. Even Geonosians avoid this region unless absolutely necessary."
            },
            {
                name: "Separatist Command Center",
                icon: "üéØ",
                type: "Military Headquarters",
                danger: "extreme",
                description: "Heavily fortified command complex where Count Dooku and Separatist leaders coordinate their war against the Republic.",
                locations: ["War Room", "Communications Hub", "Dooku's Chambers", "Security Center", "Hangar Bays"],
                dangers: ["Heavy Security", "Battle Droids", "Automated Defenses", "Separatist Leaders", "Surveillance Systems"],
                details: "The nerve center of Separatist operations, this fortress coordinates attacks across the galaxy. Holographic displays show troop movements and battle plans. Count Dooku meets with Trade Federation and Techno Union leaders here. Approaching without authorization means certain death from multiple layers of defenses."
            },
            {
                name: "Execution Dock",
                icon: "‚õìÔ∏è",
                type: "Prison Facility",
                danger: "extreme",
                description: "Grim facility where Republic prisoners and political enemies are held before public execution in the arena.",
                locations: ["Cell Blocks", "Interrogation Rooms", "Processing Center", "Guard Stations", "Transport Tubes"],
                dangers: ["Torture", "Execution", "Geonosian Guards", "Escape Impossible", "Inhumane Conditions"],
                details: "Prisoners languish in cramped cells carved from rock, awaiting their fate. Interrogation chambers echo with screams as Geonosian guards extract information. The facility connects directly to the arena via underground tubes. Few who enter ever leave alive. Even Jedi have been held here before facing the beasts."
            }
        ];

        function initPage() {
            const grid = document.getElementById('regionsGrid');
            
            regions.forEach(region => {
                const card = document.createElement('div');
                card.className = 'region-card';
                card.onclick = () => showRegionDetails(region);
                
                let dangerColor = '#ff4422';
                if (region.danger === 'medium') dangerColor = '#ffaa00';
                if (region.danger === 'high') dangerColor = '#ff0000';
                if (region.danger === 'extreme') dangerColor = '#8b0000';
                
                card.innerHTML = `
                    <div class="region-header">
                        <div class="region-icon" style="color: ${dangerColor}">${region.icon}</div>
                        <div class="region-title">
                            <h3>${region.name}</h3>
                            <div class="region-type">${region.type}</div>
                        </div>
                    </div>
                    <div class="region-description">${region.description}</div>
                    <div class="location-tags">
                        ${region.locations.slice(0, 3).map(loc => `<div class="location-tag">${loc}</div>`).join('')}
                        ${region.locations.length > 3 ? `<div class="location-tag">+${region.locations.length - 3} more</div>` : ''}
                    </div>
                    <div class="danger-level ${region.danger}">
                        <strong>Threat Level: ${region.danger.toUpperCase()}</strong>
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        function showRegionDetails(region) {
            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modalBody');
            
            modalBody.innerHTML = `
                <div class="modal-header">
                    <h2>${region.name}</h2>
                    <div class="region-type" style="font-size: 1.2em;">${region.icon} ${region.type}</div>
                </div>
                
                <div class="modal-section">
                    <h3>Overview</h3>
                    <p>${region.details}</p>
                </div>
                
                <div class="modal-section">
                    <h3>Notable Locations</h3>
                    <ul>
                        ${region.locations.map(loc => `<li>${loc}</li>`).join('')}
                    </ul>
                </div>
                
                <div class="modal-section">
                    <h3>Known Dangers</h3>
                    <ul>
                        ${region.dangers.map(danger => `<li>${danger}</li>`).join('')}
                    </ul>
                </div>
                
                <div class="danger-level ${region.danger}">
                    <strong>Threat Level: ${region.danger.toUpperCase()}</strong>
                </div>
            `;
            
            modal.classList.add('show');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('show');
        }

        function goBack() {
            window.history.back();
        }

        window.addEventListener("load", function() {
            setTimeout(() => {
                document.getElementById("loading").style.opacity = "0";
                setTimeout(() => {
                    document.getElementById("loading").style.display = "none";
                }, 1000);
            }, 1500);
        });

        const container = document.getElementById("canvas-container");
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 5;

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        container.appendChild(renderer.domElement);

        const ambientLight = new THREE.AmbientLight(0x331111, 0.5);
        scene.add(ambientLight);

        const directionalLight = new THREE.DirectionalLight(0xff4422, 1);
        directionalLight.position.set(5, 5, 5);
        scene.add(directionalLight);

        const pointLight1 = new THREE.PointLight(0xff2200, 1.2, 10);
        pointLight1.position.set(-2, 1, 3);
        scene.add(pointLight1);

        const pointLight2 = new THREE.PointLight(0xff6633, 1.2, 10);
        pointLight2.position.set(2, -1, 3);
        scene.add(pointLight2);

        const particleCount = 700;
        const particles = new THREE.BufferGeometry();
        const positions = new Float32Array(particleCount * 3);

        for (let i = 0; i < particleCount; i++) {
            positions[i * 3] = (Math.random() - 0.5) * 20;
            positions[i * 3 + 1] = (Math.random() - 0.5) * 20;
            positions[i * 3 + 2] = (Math.random() - 0.5) * 20;
        }

        particles.setAttribute("position", new THREE.BufferAttribute(positions, 3));

        const particleMaterial = new THREE.PointsMaterial({
            color: 0xff4422,
            size: 0.07,
            transparent: true,
            blending: THREE.AdditiveBlending
        });

        const particleSystem = new THREE.Points(particles, particleMaterial);
        scene.add(particleSystem);

        const gridHelper = new THREE.GridHelper(20, 20, 0xff2200, 0xff6633);
        gridHelper.position.y = -3;
        gridHelper.material.transparent = true;
        gridHelper.material.opacity = 0.18;
        scene.add(gridHelper);

        window.addEventListener("resize", function() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        let mouseX = 0;
        let mouseY = 0;

        window.addEventListener("mousemove", function(event) {
            mouseX = (event.clientX / window.innerWidth) * 2 - 1;
            mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
        });

        function animate() {
            requestAnimationFrame(animate);

            const positions = particleSystem.geometry.attributes.position.array;
            for (let i = 0; i < particleCount; i++) {
                positions[i * 3] += 0.004;
                if (positions[i * 3] > 10) {
                    positions[i * 3] = -10;
                }
            }
            particleSystem.geometry.attributes.position.needsUpdate = true;

            camera.position.x += (mouseX * 0.18 - camera.position.x) * 0.03;
            camera.position.y += (mouseY * 0.18 - camera.position.y) * 0.03;
            camera.lookAt(scene.position);

            gridHelper.rotation.y += 0.0007;

            pointLight1.position.x = Math.sin(Date.now() * 0.001) * 3;
            pointLight1.position.z = Math.cos(Date.now() * 0.001) * 3;
            
            pointLight2.position.x = Math.cos(Date.now() * 0.0013) * 3;
            pointLight2.position.z = Math.sin(Date.now() * 0.0013) * 3;

            renderer.render(scene, camera);
        }
        animate();
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
        
        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') {
                closeModal();
            }
        });
        
        initPage();
    </script>
</body>
</html>
